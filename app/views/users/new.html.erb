<div style="display: flex; min-height: 100vh; flex-direction: column; justify-content: center; padding: 1.5rem 1rem; background-color: #111827;">
  <%# MODIFIED: Container is now wider %>
  <div style="margin: 0 auto; width: 100%; max-width: 42rem;">
    <h2 style="margin-top: 2.5rem; text-align: center; font-size: 1.5rem; font-weight: 700; color: #ffffff;">
      Create a new account
    </h2>
  </div>
  <%# MODIFIED: Container is now wider %>
  <div style="margin-top: 2.5rem; margin-left: auto; margin-right: auto; width: 100%; max-width: 42rem;">
    <%= form_with(model: @user, url: users_path) do |form| %>
      <% if @user.errors.any? %>
        <div id="errorToastContainer" style="position: fixed; top: 1rem; right: 1rem; z-index: 9999; max-width: 400px;">
          <div class="error-toast" style="background: linear-gradient(135deg, rgba(239, 68, 68, 0.95) 0%, rgba(220, 38, 38, 0.95) 100%); border-left: 4px solid #ef4444; padding: 1rem 1.5rem; border-radius: 0.5rem; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2); animation: slideIn 0.3s ease-out;">
            <p style="color: #ffffff; font-weight: 600; margin-bottom: 0.5rem; font-size: 0.875rem;"><%= pluralize(@user.errors.count, "error") %> found:</p>
            <ul style="list-style-position: inside; padding-left: 0; margin: 0; color: #ffffff; font-size: 0.875rem;">
              <% @user.errors.full_messages.each do |message| %>
                <li style="margin-bottom: 0.25rem;"><%= message %></li>
              <% end %>
            </ul>
          </div>
        </div>
        
        <style>
          @keyframes slideIn {
            from {
              transform: translateX(400px);
              opacity: 0;
            }
            to {
              transform: translateX(0);
              opacity: 1;
            }
          }
          
          @keyframes slideOut {
            from {
              transform: translateX(0);
              opacity: 1;
            }
            to {
              transform: translateX(400px);
              opacity: 0;
            }
          }
          
          .error-toast.fade-out {
            animation: slideOut 0.3s ease-in forwards;
          }
        </style>
        
        <script>
          // Auto-dismiss error toast after 5 seconds (longer for reading multiple errors)
          document.addEventListener('DOMContentLoaded', function() {
            const errorToast = document.querySelector('.error-toast');
            if (errorToast) {
              setTimeout(function() {
                errorToast.classList.add('fade-out');
                setTimeout(function() {
                  const container = document.getElementById('errorToastContainer');
                  if (container) container.remove();
                }, 300);
              }, 5000);
            }
          });
        </script>
      <% end %>
      <%# NEW: Flex container for First and Last name %>
      <div style="display: flex; gap: 1rem; margin-bottom: 1.5rem;">
        <%# First Name field wrapper %>
        <div style="flex: 1;">
          <%= form.label :first_name, style: "display: block; font-size: 0.875rem; font-weight: 500; color: #e5e7eb;" %>
          <div style="margin-top: 0.5rem;">
            <%= form.text_field :first_name, required: true, style: "display: block; width: 100%; border-radius: 0.375rem; background-color: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); padding: 0.375rem 0.75rem; color: #ffffff;" %>
          </div>
        </div>
        <%# Last Name field wrapper %>
        <div style="flex: 1;">
          <%= form.label :last_name, style: "display: block; font-size: 0.875rem; font-weight: 500; color: #e5e7eb;" %>
          <div style="margin-top: 0.5rem;">
            <%= form.text_field :last_name, required: true, style: "display: block; width: 100%; border-radius: 0.375rem; background-color: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); padding: 0.375rem 0.75rem; color: #ffffff;" %>
          </div>
        </div>
      </div>

      <%# NEW: Flex container for Email and Contact number %>
      <div style="display: flex; gap: 1rem; margin-bottom: 1.5rem;">
        <%# Email field wrapper %>
        <div style="flex: 1;">
          <%= form.label :email, "Email address", style: "display: block; font-size: 0.875rem; font-weight: 500; color: #e5e7eb;" %>
          <div style="margin-top: 0.5rem;">
            <%= form.email_field :email, required: true, style: "display: block; width: 100%; border-radius: 0.375rem; background-color: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); padding: 0.375rem 0.75rem; color: #ffffff;" %>
          </div>
        </div>
        <%# Contact Number field wrapper %>
        <div style="flex: 1;">
          <%= form.label :contact_number, style: "display: block; font-size: 0.875rem; font-weight: 500; color: #e5e7eb;" %>
          <div style="margin-top: 0.5rem;">
            <%= form.text_field :contact_number, required: true, style: "display: block; width: 100%; border-radius: 0.375rem; background-color: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); padding: 0.375rem 0.75rem; color: #ffffff;" %>
          </div>
        </div>
      </div>
      
      <%# Password fields remain full-width %>
      <div style="margin-bottom: 1.5rem;">
        <%= form.label :password, style: "display: block; font-size: 0.875rem; font-weight: 500; color: #e5e7eb;" %>
        <div style="margin-top: 0.5rem;">
          <%= form.password_field :password, required: true, style: "display: block; width: 100%; border-radius: 0.375rem; background-color: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); padding: 0.375rem 0.75rem; color: #ffffff;" %>
        </div>
      </div>
      <div style="margin-bottom: 1.5rem;">
        <%= form.label :password_confirmation, style: "display: block; font-size: 0.875rem; font-weight: 500; color: #e5e7eb;" %>
        <div style="margin-top: 0.5rem;">
          <%= form.password_field :password_confirmation, required: true, style: "display: block; width: 100%; border-radius: 0.375rem; background-color: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); padding: 0.375rem 0.75rem; color: #ffffff;" %>
        </div>
      </div>
      <div>
        <%= form.submit "Create Account", style: "display: flex; width: 100%; justify-content: center; border-radius: 0.375rem; background-color: #4f46e5; padding: 0.375rem 0.75rem; font-size: 0.875rem; font-weight: 600; color: #ffffff; cursor: pointer; border: none;" %>
      </div>
    <% end %>
    <p style="margin-top: 2.5rem; text-align: center; font-size: 0.875rem; color: #9ca3af;">
      Already have an account?
      <%= link_to "Log in here", login_path, style: "font-weight: 600; color: #818cf8; text-decoration: none;" %>
    </p>
  </div>
</div>